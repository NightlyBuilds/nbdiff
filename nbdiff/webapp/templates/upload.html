<!--
    Written By: Richard Tang.
    Drag and Drop Modified from http://www.sitepoint.com/html5-file-drag-and-drop/.
-->
{% extends "parent.html" %}
{% block head %}
<link rel="stylesheet" type="text/css" href="/static/css/upload.css">
<script type="text/javascript" src="/static/libraries/verify.notify.min.js"> </script>
<script type="text/javascript" src="/static/js/upload.js"> </script>
{% endblock %}
{% block content %}

<ul class="nav nav-tabs" id="compareTabs">
    <li class="active"><a href="#tabs-1" data-toggle="tab">Compare By Uploading Notebooks</a></li>
    <li><a href="#tabs-2" data-toggle="tab">Compare Using URLs</a></li>
    <li><a href="#tabs-3"data-toggle="tab">Compare Local Copy with Git</a></li>
</ul>

<div class="tab-content">
    <div class="tab-pane active" id="tabs-1">
        <form action="/merge" method="POST" enctype="multipart/form-data" onsubmit="return validateForm()">
            <input type="hidden" id="MAX_FILE_SIZE" name="MAX_FILE_SIZE" value="300000" />  
            <table align="center">
            <tr>
                <td>
                    <fieldset>
                    <legend>Local File Upload</legend>
                    <div>
                        <label for="localFile">Specify Local .ipynb notebook File:</label>
                        <br/>
                        <input type="file" id="localFile" name="localFile"/>
                        <input type="hidden" id="localJSON" name="localJSON" />
                        <div id="localFileDrag">or drop files here</div>
                    </div>
                    </fieldset>
                </td>
                <td>
                    <div id="errorMsg" style="display:none"></div>  
                    <div style=" text-align: center;">
                        <input id="submitBtn" class="disableBtn" type="submit" value="Generate Merge Conflicts" />
                    </div>
                </td>
                <td>
                    <fieldset>
                    <legend>Remote File Upload</legend>
                    <div>
                        <label for="remoteFile">Specify Remote .ipynb notebook File:</label>
                        <br/>
                        <input type="file" id="remoteFile" name="remoteFile"/>
                        <input type="hidden" id="remoteJSON" name="remoteJSON" />
                        <div id="remoteFileDrag">or drop files here</div>
                    </div>
                    </fieldset>
                </td>
            </tr>
            </table>
        </form>
    </div>
    <div class="tab-pane" id="tabs-2">
        <form action="/mergeURL" method="POST">
            <div>
                <label for="localFile">Specify <b>Local</b> .ipynb notebook URL:</label>
                <br/>
                <input type="text" id="localFile" name="localFile" style="width:90%" data-validate="url,required"/>
            </div>
            <div>
                <label for="remoteFile">Specify <b>Remote</b> .ipynb notebook URL:</label>
                <br/>
                <input type="text" id="remoteFile" name="remoteFile" style="width:90%" data-validate="url,required"/>
            </div>
            <div style=" text-align: center;">
                <input id="submitBtn" class="disableBtn" type="submit" value="Generate Merge Conflicts" />
            </div>
        </form>
    </div>
  <div class="tab-pane" id="tabs-3">Currently Unavailable</div>
</div>
{% endblock %}
